{% extends "base.html" %}
{% block title %}{{ gallery.title }} — Photography{% endblock %}
{% block content %}

<!-- Hero Section -->
<section class="relative bg-black text-white py-20">
  <div class="container mx-auto px-6 text-center">
    <h1 class="text-5xl font-bold mb-4">{{ gallery.title }}</h1>
    {% if gallery.description %}
      <p class="max-w-2xl mx-auto text-gray-300">{{ gallery.description }}</p>
    {% endif %}
    {% if gallery.background_music %}
      <audio id="bg-music" src="{{ gallery.background_music.url }}" autoplay loop></audio>
      <button id="music-toggle" class="mt-6 bg-white text-black px-6 py-2 rounded-lg font-semibold hover:bg-gray-200 transition">
        ⏸ Pause Music
      </button>
    {% endif %}
  </div>
</section>

<!-- Image Gallery -->
<section class="bg-gray-50 dark:bg-black py-16">
  <div class="container mx-auto px-6">
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {% for photo in photos %}
        <div class="overflow-hidden rounded-lg group relative">
          <a href="{{ photo.image.url }}" target="_blank">
            <img src="{{ photo.image.url }}" alt="{{ photo.title }}" class="w-full h-96 object-cover transform group-hover:scale-110 transition duration-700 ease-in-out">
            <div class="absolute inset-0 bg-black bg-opacity-40 opacity-0 group-hover:opacity-100 transition flex items-center justify-center">
              <h3 class="text-white text-lg font-semibold">{{ photo.title }}</h3>
            </div>
          </a>
        </div>
      {% empty %}
        <p class="text-center text-gray-400 col-span-full">No photos available in this gallery.</p>
      {% endfor %}
    </div>
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const music = document.getElementById('bg-music');
  const btn = document.getElementById('music-toggle');
  if (btn && music) {
    btn.addEventListener('click', function() {
      if (music.paused) {
        music.play();
        btn.textContent = '⏸ Pause Music';
      } else {
        music.pause();
        btn.textContent = '▶️ Play Music';
      }
    });
  }
});
</script>

{% endblock %}
